<ion-header>
  <ion-toolbar>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Perfil header -->
  <div class="profile-header">
    <div class="avatar-container">
      <ion-avatar>
        <img src="https://ionicframework.com/docs/img/demos/avatar.svg" alt="avatar" />
      </ion-avatar>
    </div>
    <h2 class="display-name">{{ user.displayName }}</h2>
    <span class="preci-level preci-level--{{ user.level }}">{{ user.level }}</span>
  </div>

  <!-- Stats cards -->
  <div class="stats-row">
    <div class="stat-card">
      <span class="stat-value preci-price">{{ user.points }}</span>
      <span class="stat-label">Puntos</span>
    </div>
    <div class="stat-card">
      <span class="stat-value preci-price">{{ user.totalReports }}</span>
      <span class="stat-label">Reportes</span>
    </div>
    <div class="stat-card">
      <span class="stat-value">{{ user.level }}</span>
      <span class="stat-label">Nivel</span>
    </div>
  </div>

  <!-- Menu -->
  <div class="menu-section">
    <span class="preci-section-label">Configuracion</span>
    <ion-list lines="full">
      <ion-item lines="full">
        <ion-icon name="color-palette-outline" slot="start" color="primary"></ion-icon>
        <ion-label>Tema</ion-label>
        <div class="theme-segmented" slot="end">
          <button class="theme-seg-btn" [class.active]="theme === 'light'" (click)="setTheme('light')">
            <ion-icon name="sunny-outline"></ion-icon>
          </button>
          <button class="theme-seg-btn" [class.active]="theme === 'system'" (click)="setTheme('system')">
            <ion-icon name="phone-portrait-outline"></ion-icon>
          </button>
          <button class="theme-seg-btn" [class.active]="theme === 'dark'" (click)="setTheme('dark')">
            <ion-icon name="moon-outline"></ion-icon>
          </button>
          <div class="theme-seg-indicator" [style.transform]="segIndicatorTransform"></div>
        </div>
      </ion-item>
      <ion-item button detail>
        <ion-icon name="notifications-outline" slot="start" color="primary"></ion-icon>
        <ion-label>Notificaciones</ion-label>
      </ion-item>
      <ion-item button detail>
        <ion-icon name="trophy-outline" slot="start" style="color: var(--preci-accent)"></ion-icon>
        <ion-label>Mis logros</ion-label>
      </ion-item>
      <ion-item button detail>
        <ion-icon name="location-outline" slot="start" color="medium"></ion-icon>
        <ion-label>Mi distrito</ion-label>
      </ion-item>
      <ion-item button detail>
        <ion-icon name="help-circle-outline" slot="start" color="medium"></ion-icon>
        <ion-label>Ayuda</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <div class="login-section">
    <ion-button expand="block" fill="outline" color="primary" (click)="login()">
      Iniciar sesion
    </ion-button>
  </div>
</ion-content>
