<div class="product-card" [class.product-card--compact]="compact">

  <!-- Imagen del producto -->
  <div class="product-card__image">
    <img
      *ngIf="product.imageUrl; else imagePlaceholder"
      [src]="product.imageUrl"
      [alt]="product.name"
      loading="lazy"
    />
    <ng-template #imagePlaceholder>
      <ion-icon name="cube-outline"></ion-icon>
    </ng-template>
  </div>

  <!-- Informacion del producto -->
  <div class="product-card__info">
    <p class="product-card__name">{{ product.name }}</p>
    <p class="product-card__meta">
      {{ product.brand }}
      <ng-container *ngIf="product.unit"> Â· {{ product.unitSize }}{{ product.unit }}</ng-container>
    </p>
  </div>

  <!-- Precio -->
  <div class="product-card__price-section" *ngIf="bestPrice">
    <span class="product-card__from-label" *ngIf="bestPrice.storeName === 'desde'">desde</span>
    <div class="product-card__price preci-price">
      <span class="price-currency">S/</span>
      <span class="price-amount">{{ bestPrice.price | number:'1.2-2' }}</span>
    </div>
    <span class="product-card__cta">Comparar</span>
  </div>

</div>
